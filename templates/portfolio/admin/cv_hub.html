{% extends "portfolio/admin/base_admin.html" %}
{% load static %}

{% block admin_title %}Gestión de CV{% endblock %}
{% block admin_subtitle %}Administra tu experiencia laboral, educación y habilidades técnicas{% endblock %}

{% block admin_content %}
<!-- CV Sections -->
<div class="content-card">
    <div class="card-header-custom">
        <div>
            <h2 class="card-title-custom">Secciones del CV</h2>
            <p class="card-subtitle-custom">{{ stats.total_experiences }} experiencias • {{ stats.total_education }} formaciones • {{ stats.total_skills }} habilidades</p>
        </div>
    </div>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px;">
        <!-- Experience -->
        <div style="padding: 24px; border: 1px solid #F2F2F2; border-radius: 8px;">
            <h3 style="font-size: 18px; font-weight: 600; color: #242424; margin: 0 0 8px 0;">Experiencia Laboral</h3>
            <p style="color: #6B6B6B; margin: 0 0 16px 0; font-size: 14px;">{{ stats.total_experiences }} registros</p>
            
            {% if stats.current_job %}
                <div style="margin-bottom: 16px; padding: 12px; background: #F8F9FA; border-radius: 6px;">
                    <div style="font-weight: 500; color: #242424;">{{ stats.current_job.position }}</div>
                    <div style="font-size: 14px; color: #6B6B6B;">{{ stats.current_job.company }} • Actual</div>
                </div>
            {% endif %}
            
            <div style="display: flex; gap: 12px;">
                <a href="{% url 'portfolio:admin-experience-list' %}" class="btn-primary-custom">Ver Todas</a>
                <a href="{% url 'portfolio:admin-experience-create' %}" class="btn-secondary-custom">Agregar</a>
            </div>
        </div>

        <!-- Education -->
        <div style="padding: 24px; border: 1px solid #F2F2F2; border-radius: 8px;">
            <h3 style="font-size: 18px; font-weight: 600; color: #242424; margin: 0 0 8px 0;">Educación</h3>
            <p style="color: #6B6B6B; margin: 0 0 16px 0; font-size: 14px;">{{ stats.total_education }} registros</p>
            
            {% if stats.current_education > 0 %}
                <div style="margin-bottom: 16px; padding: 12px; background: #F8F9FA; border-radius: 6px;">
                    <div style="font-size: 14px; color: #242424;">{{ stats.current_education }} formación{{ stats.current_education|pluralize:"es" }} en curso</div>
                </div>
            {% endif %}
            
            <div style="display: flex; gap: 12px;">
                <a href="{% url 'portfolio:admin-education-list' %}" class="btn-primary-custom">Ver Todas</a>
                <a href="{% url 'portfolio:admin-education-create' %}" class="btn-secondary-custom">Agregar</a>
            </div>
        </div>

        <!-- Skills -->
        <div style="padding: 24px; border: 1px solid #F2F2F2; border-radius: 8px;">
            <h3 style="font-size: 18px; font-weight: 600; color: #242424; margin: 0 0 8px 0;">Habilidades</h3>
            <p style="color: #6B6B6B; margin: 0 0 16px 0; font-size: 14px;">{{ stats.total_skills }} habilidades en {{ stats.skill_categories }} categorías</p>
            
            <div style="display: flex; gap: 12px;">
                <a href="{% url 'portfolio:admin-skill-list' %}" class="btn-primary-custom">Ver Todas</a>
                <a href="{% url 'portfolio:admin-skill-create' %}" class="btn-secondary-custom">Agregar</a>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="content-card">
    <div class="card-header-custom">
        <div>
            <h2 class="card-title-custom">Acciones Rápidas</h2>
            <p class="card-subtitle-custom">Enlaces útiles para gestionar tu CV</p>
        </div>
    </div>
    
    <div style="display: flex; flex-wrap: wrap; gap: 16px;">
        <a href="{% url 'portfolio:resume' %}" target="_blank" class="btn-primary-custom">
            <i class="fas fa-eye"></i>Ver CV Público
        </a>
        <a href="{% url 'portfolio:admin-profile-edit' %}" class="btn-secondary-custom">
            <i class="fas fa-user"></i>Editar Perfil
        </a>
    </div>
</div>
{% endblock %}

